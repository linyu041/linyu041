#include<bits/stdc++.h>
using namespace std;
#define U(i,j,k) for(int i=j;i<=k;++i)
#define D(i,j,k) for(int i=j;i>=k;--i)
stack <char> s;
bool Check(char c)
{
	if(c=='{'||c=='}'||c=='('||c==')'||c=='['||c==']')	return 1;
	return 0;
}
int main()
{
	char c=getchar();
	while(Check(c))
	{
		switch(c)
		{
			case '(':
			case '{':
			case '[':
				s.push(c);
				break;
			case '}':
				if(s.top()=='{')	
					++ans;
				else
				{
					s.clear();
					anss=max(anss,ans);
				}
				break;
			case ')':
			case ']':
		}
		
		c=getchar();
	}
	return 0;
}
