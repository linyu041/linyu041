#include<queue>
#include<utility>
#include<map>
#include<iostream>
#include<algorithm>
#include<cstdio>
using namespace std;
#define U(i,j,k) for(int i=j;i<=k;++i)
#define D(i,j,k) for(int i=j;i>=k;--i)
const int N=25,bx[5]={0,0,-1,1},by[5]={1,-1,0,0};
const char ps[5]={'u','d','w','e'},s[5]={'U','D','W','E'};
const int px[5]={0,0,1,-1},py[5]={-1,1,0,0};
typedef pair<int,int> pii;
char sss[N];
int n,m,mp[N][N];
string ss;
pii ed_box,ed_person;
struct Data
{
	pii p,b;
	string ans;
}st;
queue<Data> q_box;
int Check(int x,int y)
{
	return x>=1&&y>=1&&x<=n&&y<=m&&mp[x][y];
}
struct Data1
{
	pii p;
	string ans;
};
queue<Data1> q_person;
int Expand(pii x,pii y)
{
	Data1 t,r;
	pii nxt;
	t.p=x;t.ans="";
	while(!q_person.empty())	q_person.pop();
	q_person.push(t);
	while(!q_person.empty())
	{
		t=q_person.front();
		q_person.pop();
		for(int i=0;i<=3;++i)
		{
			nxt=make_pair(t.p.first+bx[i],t.p.second+by[i]);
			if(Check(nxt.first,nxt.second))
			{
				r=t;
				r.ans+=ps[i];
				r.p=nxt;
				q_person.push(r);
				if(r.p==y)	
				{
					ss=r.ans;
					return 1;
				}
			}
		}
	}
	return 0;
}
void BBFS_BOX(Data x)
{
	while(!q_box.empty())	q_box.pop();
	q_box.push(x);
	Data t,r;
	int nxtx[2],nxty[2];
	while(!q_box.empty()) 
	{
		t=q_box.front();
		q_box.pop();
		for(int i=0;i<=3;++i)
		{
			nxtx[0]=t.b.first+bx[i];nxty[0]=t.b.second+by[i];
			nxtx[1]=t.b.first+px[i];nxty[1]=t.b.second+py[i];
			if(Check(nxtx[0],nxty[0])&&Check(nxtx[1],nxty[1])&&Expand(r.p,make_pair(nxtx[1],nxty[1])))
			{
				r=t;
				r.b=make_pair(nxtx[0],nxty[0]);
				r.p=make_pair(nxtx[1],nxty[1]);
				r.ans+=ss;
				r.ans+=s[i];
				if(r.p==ed_box)
				{
					cout<<r.ans<<endl;
					return;
				}
				q_box.push(r);
			}
		}
	}
}
int main()
{
	while(scanf("%d%d",&n,&m)&&n!=0)
	{
		U(i,1,n)
		{
			scanf("%s",sss+1);
			U(j,1,m)	
				switch(sss[j])
				{
					case 'T':mp[i][j]=1;ed_box=make_pair(i,j);break;
					case 'B':mp[i][j]=1;st.b=make_pair(i,j);break;
					case 'S':mp[i][j]=1;st.p=make_pair(i,j);break;
					case '.':mp[i][j]=1;break;
					case '#':mp[i][j]=0;break;
				}
		}
		st.ans="";
		BBFS_BOX(st);
	}
	return 0;
}
